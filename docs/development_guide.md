# HOT情報送信アプリ 開発手順書

## 1. アプリケーション概要

HOT情報送信アプリは、現場の情報をリアルタイムで収集・共有するためのPWAアプリケーションです。

### 1.1 主な機能

- ルート選択
- 写真撮影（オプション）
- 位置情報の取得と補足情報入力
- 資料配布状況の記録
- 工事進捗状況の記録
- コメント入力

## 2. 開発環境

### 2.1 必要なツール
- Git
- モダンなWebブラウザ（Chrome推奨）
- テキストエディタまたはIDE

### 2.2 プロジェクト構成
```
HOT情報/
├── pwa/
│   ├── index.html      # メインのHTML
│   ├── styles.css      # スタイルシート
│   ├── app.js          # メインのJavaScript
│   └── sw.js          # Service Worker
└── docs/
    └── development_guide.md  # 本ドキュメント
```

## 3. 機能実装の詳細

### 3.1 ルート選択機能
- ユーザーが巡回ルートを選択
- 写真撮影または写真なしでの送信を選択可能

### 3.2 写真撮影機能
- デバイスのカメラを使用して写真を撮影
- 撮影した写真から位置情報（EXIF）を取得
- 位置情報が取得できない場合はデバイスのGPSを使用

### 3.3 位置情報入力
- 写真から取得した位置情報の表示
- 補足情報（建物名、目印など）の入力フィールド

### 3.4 資料配布状況
選択肢：
- 名刺配布のみ
- パンフレット配布のみ
- 名刺・パンフレット配布
- 配布なし

### 3.5 工事進捗状況
選択肢：
- 内装工事中（初期段階）
- 内装工事中（近日終了？）
- 外装完了
- オープン間近
- 解体中
- 不明

### 3.6 コメント入力
- フリーテキスト入力
- 例文を提供して入力を補助

## 4. 画面遷移フロー

1. ルート選択画面
2. 写真撮影/スキップ選択
3. （写真撮影を選択した場合）
   - カメラ起動
   - 写真撮影
   - 位置情報取得
   - 位置補足情報入力
4. カテゴリー選択
5. 資料配布状況選択
6. 工事進捗状況選択
7. コメント入力
8. 送信確認

## 5. スタイリングガイドライン

### 5.1 カラースキーム
- プライマリーカラー: #2196f3
- セカンダリーカラー: #e3f2fd
- アクセントカラー: 必要に応じて

### 5.2 レイアウト
- モバイルファースト設計
- レスポンシブデザイン
- 2カラムグリッドレイアウト（カード表示）

### 5.3 UI要素
- カード形式の選択肢
- 絵文字を使用したアイコン表示
- 戻るボタンの統一的な配置

## 6. 開発フロー

1. 機能追加時の手順
   - 関連するHTMLの追加/修正
   - スタイルの追加/修正
   - JavaScriptの機能実装
   - 動作確認
   - コミット

2. コミットメッセージの規則
   - 日本語で具体的な変更内容を記述
   - 機能追加、バグ修正、スタイル調整などの区分を明確に

## 7. デバッグとテスト

### 7.1 動作確認項目
- 各画面遷移が正しく機能するか
- 写真撮影と位置情報取得が正常に動作するか
- 選択状態の視覚的フィードバックが適切か
- 戻るボタンが正しく機能するか
- データが正しく送信されるか

### 7.2 レスポンシブ対応確認
- スマートフォン表示での確認
- タブレット表示での確認
- 画面回転時の表示確認

## 8. 今後の改善予定

- オフライン対応の強化
- エラーハンドリングの改善
- パフォーマンスの最適化
- ユーザーインターフェースの改善

## 9. トラブルシューティング

### 9.1 既知の問題
- 特定の端末でカメラ起動に時間がかかる場合がある
- 位置情報の取得に失敗する場合がある

### 9.2 対処方法
- カメラ起動時のタイムアウト処理
- 位置情報取得失敗時の手動入力オプション

## 10. 更新履歴

### 最新の更新内容
- 工事進捗状況の選択機能を追加
- コメント入力の例文を更新
- 資料配布状況の選択機能を追加
- 写真なしでの送信オプションを追加
- 位置情報補足入力機能を追加 